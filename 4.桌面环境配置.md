# Author: maodun
# Modifydate: 2025.7.7
# Reference Wiki: [Archlinux Wiki](https://wiki.archlinux.org/)
         	  [Niri Wiki](https://yalter.github.io/niri/)



# 目录
# [1 安装显示字体](#1-安装显示字体)
	- ## [1.1 字体管理](#11-字体管理)
	- ## [1.2 安装字体](#12-安装字体)
	- ## [1.3 卸载字体](#13-卸载字体)
# [2 安装桌面环境相关软件](#2-安装桌面环境相关软件)
# [3 niri配置](#3-niri配置)
	- ## [3.1 获得配置文件](#31-获得配置文件)
	- ## [3.2 基本配置](#32-基本配置)
# [4 foot配置](#4-foot配置)



# 1 安装显示字体  
## 1.1 字体管理
下载相关软件
	`sudo pacman -S fontconfig`

使用**fontconfig**工具集管理字体配置,缓存和渲染    
	- 显示所以已安装字体  
  		`$ fc-list`  
	- 更新字体缓存  
  		`$ fc-cache -fv`
    			- "-f": 强制更新缓存
    			- "-v": 显示详细过程

存放字体的路径:
	- 系统级字体存放: /usr/share/fonts/ (需要root权限)
	- 用户级字体存放: ~/.local/share/fonts/ (不需要root权限)


## 1.2 安装字体
使用**pacman**命令通安装字体   
	`$ sudo pacman -S noto-fonts noto-fonts-cjk noto-fonts-emoji`
  
将字体文件存放到字体目录     
	- 将字体文件复制到字体目录,根据存放目录的不同可能需要root权限    
	- 更新字体缓存


## 1.3 卸载字体
使用**packman**命令卸载字体
	`sudo pacman -Rs noto-fonts`

将字体文件从字体目录删除
	- 将字体文件从目录中删除,根据存放目录的不同可能需要root权限
	- 更新字体缓存   


      
# 2 安装桌面环境相关软件  
	1. 窗口管理器：niri(下载过程中选择xdg-desktop-portal-wlr)
	2. 兼容X11软件：xwayland-satellite   
	3. 终端模拟器：foot


  
# 3 niri配置
## 3.1 获得配置文件
	1. 启动一次niri,在此处自动生成配置文件(~/.config/niri/config.kdl)
    		`$ niri-session`
	2. 进入niri的wiki官网，复制各模块的配置文件到本地配置文件


## 3.2 基本配置 
输入设备配置:
	1. 设置mod键
	2. 设置随鼠标位置聚焦对应位置的窗口
  		`focus-follows-mouse max-scroll-amount="0%"`
	3. 其余保持默认

输出设置配置：
	1. 分辨率和缩放设置
	2. 其余保持默认

layout配置：
	1. 更改窗口与屏幕的距离“gap”
	2. 更改预设切换窗口的高度与宽度为“0.5”和“1.0”
	3. 其余保持默认

Animation配置：
	1. 所有保持默认

按键绑定配置：
	1. 更改默认打开的终端为“foot”与绑定的按键为“Mod+Return"
	2. 更改音量调节与光亮调节的按键
	3. 其余保持默认

其余配置：
	1. 设置fcitx5软件随niri一起启动
	2. 设置取消显示csd

通过bash配置文件(~/.bashrc)设置niri启动命令别名
	`alias n='niri-session'`



# 4 foot配置 
获取foot用户配置文件,从/etc/xdg/foot/foot.ini复制到/home/jiangshan/.config/foot/foot.ini

进入配置文件，修改显示字体
	`font=NotoSansMono:size=11`
